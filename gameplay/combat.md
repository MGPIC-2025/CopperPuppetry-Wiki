# 战斗系统

深入了解 Copper Puppetry 的战斗机制，成为战术大师。

## ⚔️ 战斗流程

### 准备阶段（Before Wave）
1. 查看下一波敌人的类型和数量
2. 根据敌人特点调整部署
3. 建造或升级建筑
4. 确保资源充足

### 战斗阶段（During Wave）
1. 敌人从生成点出现
2. 铜傀自动攻击范围内的敌人
3. 持续生产铜锭
4. 根据战况动态调整部署

### 波次间隙
- 短暂的休息时间（10-15秒）
- 规划下一波的策略
- 调整阵型和建筑
- 准备应对更强的敌人

## 👾 敌人类型

游戏中有 **13 种** 不同的敌人，每种都有独特的特点：

### 基础敌人

| 敌人 | 特点 | 应对策略 |
|------|------|----------|
| **Goblin** (哥布林) | 最弱小的敌人，数量多 | 范围攻击效果好 |
| **Scout** (侦察兵) | 移动速度快 | 需要快速反应，提前部署 |
| **Guard** (守卫) | 护甲较高 | 使用魔法伤害或高攻英雄 |

### 精英敌人

| 敌人 | 特点 | 应对策略 |
|------|------|----------|
| **Boxer** (拳击手) | 高攻击力，近战 | 保持距离，使用远程输出 |
| **Assassin** (刺客) | 速度快，会跳跃 | 范围控制和减速效果 |
| **Cruiser** (巡洋舰) | 远程攻击，优先打建筑 | 快速消灭，保护建筑 |
| **Horn** (号角) | 为周围敌人提供增益 | 优先集火击杀 |

### 重型敌人

| 敌人 | 特点 | 应对策略 |
|------|------|----------|
| **Glutton** (暴食者) | 超高生命值 | 持续输出，不要让它接近基地 |
| **Devourer** (吞噬者) | 吸血能力，越战越强 | 爆发伤害秒杀 |
| **Demon** (恶魔) | 全面强大的BOSS单位 | 集中火力，使用技能和大招 |

### 特殊敌人

| 敌人 | 特点 | 应对策略 |
|------|------|----------|
| **Mirror** (镜像) | 反弹部分伤害 | 使用多个低攻单位而非单个高攻 |
| **Shatra** (沙特拉) | 分裂成小单位 | 准备范围攻击应对分裂体 |
| **Variant** (变异体) | 能力随机变化 | 灵活应对，保留应急资源 |

## 🎲 属性系统

### 基础属性

#### 攻击属性
- **攻击力 (ATK)**：造成伤害的基础值
- **攻击速度 (AS)**：每秒攻击次数
- **攻击范围 (Range)**：能攻击到的距离
- **暴击率 (Crit%)**：造成额外伤害的概率
- **暴击伤害 (Crit DMG)**：暴击时的伤害倍率

#### 防御属性
- **生命值 (HP)**：承受伤害的能力
- **护甲 (Armor)**：减少物理伤害
- **魔抗 (Magic Res)**：减少魔法伤害
- **回避 (Evasion)**：闪避攻击的概率

#### 特殊属性
- **移动速度**：单位移动的快慢（仅敌人和部分英雄）
- **生命恢复**：每秒恢复的生命值
- **能量恢复**：技能能量的恢复速度

### 状态效果

#### 增益效果 (Buff)
- 🔥 **攻击强化**：提升攻击力
- 🛡️ **防御强化**：提升护甲和魔抗
- ⚡ **攻速强化**：提升攻击速度
- ✨ **暴击强化**：提升暴击率
- 💚 **生命恢复**：持续恢复生命

#### 减益效果 (Debuff)
- ❄️ **减速**：降低移动和攻击速度
- 🔥 **燃烧**：持续造成伤害
- ⚡ **麻痹**：短暂无法行动
- 🌫️ **致盲**：降低命中率
- 💀 **破甲**：降低护甲值

## 🎯 战斗技巧

### 集火优先级
1. **号角 (Horn)** - 增益其他敌人
2. **巡洋舰 (Cruiser)** - 攻击建筑
3. **刺客 (Assassin)** - 威胁后排
4. **暴食者/吞噬者** - 血量极高
5. **普通小怪** - 最后清理

### 阵型选择

#### 一字长蛇阵
```
[敌人] → [坦克][坦克][输出][输出][输出]
```
- 适合单路径防守
- 集中火力效率高

#### 品字阵型
```
        [输出]
[敌人] → [坦克]  [坦克]
        [输出]
```
- 适合多方向防守
- 灵活应对突发情况

#### 分散防御
```
[敌人] → [坦克] ... [输出]
       ↓         ↗
      [建筑]   [辅助]
```
- 利用建筑分担压力
- 适合后期多波次

### 应急处理

#### 突破防线
- 敌人突破前排怎么办？
  1. 在后方紧急部署坦克英雄
  2. 使用控制技能减速敌人
  3. 集中所有火力快速清除

#### 资源不足
- 铜锭不够部署怎么办？
  1. 优先建造心源矿钻
  2. 使用低成本英雄过渡
  3. 等待自然恢复，不要恐慌部署

#### BOSS来袭
- 如何应对BOSS敌人？
  1. 提前堆叠多个输出单位
  2. 使用装备增强伤害
  3. 触发所有英雄大招
  4. 建造攻击建筑辅助输出

## 📊 战斗数据

### 伤害计算公式

#### 物理伤害
```
实际伤害 = ATK × (1 - 护甲 / (护甲 + 100))
```

#### 魔法伤害
```
实际伤害 = Magic ATK × (1 - 魔抗 / (魔抗 + 100))
```

#### 暴击伤害
```
暴击伤害 = 基础伤害 × 暴击伤害倍率 (通常 150%-200%)
```

### DPS (每秒伤害)
```
DPS = ATK × 攻击速度 × (1 + 暴击率 × (暴击倍率 - 1))
```

---

::: tip 💡 战斗建议
- **前期**：保守发展，不要过度投入
- **中期**：建立稳定的经济和防线
- **后期**：爆发全部火力，不留余地
:::

::: warning ⚠️ 常见错误
- ❌ 前期过度部署高成本英雄
- ❌ 忽视资源建筑的重要性
- ❌ 所有英雄堆在一个位置
- ❌ 不关注敌人类型，盲目应对
:::

---

**下一步**：了解[资源系统](./resources)，掌握经济运营策略！

